---
import { Icon } from "astro-icon/components";
import { technologies } from "../../data/tecnologias";
---

<section id="technologies" class="py-24">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8">
    <div class="animate-on-scroll">
      <div class="flex items-center gap-2 text-primary-400 mb-4">
        <div class="h-px w-12 bg-primary-400"></div>
        <span class="font-mono text-sm tracking-wider">TECNOLOGÍAS</span>
      </div>

      <h2 class="text-3xl sm:text-4xl font-bold mb-12">
        Mis <span class="text-primary-400">herramientas</span> y tecnologías
      </h2>
    </div>

    <div class="animate-on-scroll delay-300">
      <div class="marquee-wrapper">
        <div class="marquee-content" aria-label="Lista de tecnologías usadas">
          {
            technologies.concat(technologies).map((tech) => (
              <div class="tech-card" role="listitem">
                <div class={`tech-icon ${tech.color}`} title={tech.name}>
                  <Icon name={tech.icon} class="w-8 h-8" aria-hidden="true" />
                </div>
                <span class="tech-name">{tech.name}</span>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .marquee-wrapper {
    overflow: hidden;
    position: relative;
  }

  .marquee-content {
    display: flex;
    width: fit-content;
    gap: 20px;
    animation: scroll-left 15s linear infinite;
  }

  @keyframes scroll-left {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .tech-card {
    @apply flex flex-col items-center justify-center gap-3 p-4 bg-dark-100 rounded-lg border border-zinc-800 min-w-[120px];
  }

  .tech-icon {
    @apply flex items-center justify-center w-12 h-12 rounded-lg bg-dark-200 mb-2;
  }

  .tech-name {
    @apply text-sm font-medium text-zinc-300;
  }

  .marquee-wrapper:hover .marquee-content {
    animation-play-state: paused;
  }
</style>
